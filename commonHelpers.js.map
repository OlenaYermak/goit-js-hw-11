{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// //=====VAR 1==========\n// const KEY = \"42504906-5b025263817bd530cbe95d02a\";\n// const BASE_URL = \"https://pixabay.com/api/\";\n\n// function getImages(QUERY) {\n//   const URL = `${BASE_URL}?key=${KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n//   return fetch(URL)\n//     .then((response) => {\n//       if (!response.ok) {\n//         throw new Error(\"Image error!\");\n//       }\n//       return response.json();\n//     })\n//     .catch((error) => {\n//       throw new Error(\"Image error!\");\n//     });\n// }\n\n// export { getImages };\n\n// //=====VAR 1==========\n\nconst KEY = \"42504906-5b025263817bd530cbe95d02a\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nfunction getImages(QUERY) {\n  const URL = `${BASE_URL}?key=${KEY}&q=${QUERY}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n  return fetch(URL)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Image error!');\n      }\n\n      return response.json();\n    })\n    .catch(error => {\n      console.error(\"Error fetching images:\", error);\n      throw error;\n    });\n}\n\nexport { getImages };\n","// //=====VAR 1==========\n// import SimpleLightbox from \"simplelightbox\";\n// import \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// function renderGallery(images) {\n//   const galleryContainer = document.querySelector(\".gallery-container\");\n//   galleryContainer.innerHTML = \"\";\n\n//   if (images.length === 0) {\n//     iziToast.warning({\n//       title: \"No Results\",\n//       message: \"Sorry, there are no images matching your search query. Please try again!\",\n//     });\n//     return;\n//   }\n\n//   const fragment = document.createDocumentFragment();\n//   images.forEach((image) => {\n//     const card = createImageCard(image);\n//     fragment.appendChild(card);\n//   });\n\n//   galleryContainer.appendChild(fragment);\n\n//   // Initialize SimpleLightbox\n//   const lightbox = new SimpleLightbox(\".gallery-container a\");\n//   lightbox.refresh();\n// }\n\n// function createImageCard(image) {\n//   const card = document.createElement(\"div\");\n//   card.classList.add(\"card\");\n\n//   const img = document.createElement(\"img\");\n//   img.src = image.webformatURL;\n//   img.alt = image.tags;\n\n//   const link = document.createElement(\"a\");\n//   link.href = image.largeImageURL;\n//   link.appendChild(img);\n\n//   card.appendChild(link);\n\n//   return card;\n// }\n\n// export { renderGallery };\n// //=====VAR 1==========\n\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// function renderImages(images) {\n//   const gallery = document.querySelector(\".gallery\");\n//   gallery.innerHTML = \"\";\n\n//   images.forEach(image => {\n//     const card = createImageCard(image);\n//     gallery.appendChild(card);\n//   });\n\n//   // Оновлення SimpleLightbox\n//   const lightbox = new SimpleLightbox('.gallery a');\n//   lightbox.refresh();\n// }\n\n// function createImageCard(image) {\n//   const card = document.createElement(\"div\");\n//   card.classList.add(\"card\");\n\n//   // Створення розмітки карточки для зображення\n\n//   return card;\n// }\n//refactoring===========\nfunction displayImg (images) {\n  const galleryContainer = document.querySelector(\".image-container\");\n  galleryContainer.innerHTML = \"\";\n\n  images.forEach((image) => {\n    const imageCard = document.createElement('div');\n    imageCard.classList.add('image-card');\n\n    const imageUrl = image.webformatURL;\n    const imageAlt = image.tags;\n\n    imageCard.innerHTML = `\n      <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${imageAlt}\">\n        <img src=\"${imageUrl}\" alt=\"${imageAlt}\" loading=\"lazy\">\n      </a>\n    `;\n\n    galleryContainer.appendChild(imageCard);\n  });\n\n\n  const lightbox = new SimpleLightbox('.image-card a');\n  lightbox.refresh();\n}\n\nfunction createImageCard(image) {\n  const card = document.createElement(\"div\");\n  card.classList.add(\"card\");\n\n  // Створення розмітки карточки для зображення\n\n  return card;\n}\n\n//refactoring===========\nexport { displayImg };\n\n\n\n// function renderImageGallery(images) {\n//   const galleryContainer = document.querySelector(\".gallery-container\");\n//   galleryContainer.innerHTML = \"\";\n\n//   images.forEach((image) => {\n//     const imageElement = document.createElement(\"img\");\n//     imageElement.src = image.webformatURL;\n//     imageElement.alt = image.tags;\n//     imageElement.dataset.large = image.largeImageURL;\n\n//     galleryContainer.appendChild(imageElement);\n//   });\n\n//   // Initialize SimpleLightbox\n//   SimpleLightbox.refresh();\n// }\n","// //=====VAR 1==========\n// // Описаний у документації\n// import iziToast from \"izitoast\";\n// // Додатковий імпорт стилів\n// import \"izitoast/dist/css/iziToast.min.css\";\n// import { getImages } from \"./pixabay-api.js\";\n// import { renderGallery } from \"./render-functions.js\";\n\n// const searchForm = document.querySelector(\".search-form\");\n// const loader = document.querySelector(\".loader\");\n\n// searchForm.addEventListener(\"submit\", handleSearch);\n\n// function handleSearch(event) {\n//   event.preventDefault();\n\n//   const searchQueryInput = document.querySelector(\".form-input\");\n//   const searchQuery = searchQueryInput.value.trim();\n\n//   if (searchQuery === \"\") {\n//     iziToast.error({\n//       title: \"Error\",\n//       message: \"Please enter a search term.\",\n//     });\n//     return;\n//   }\n\n//   showLoader();\n//   getImages(searchQuery)\n//     .then((data) => {\n//       renderGallery(data.hits);\n//       hideLoader();\n//     })\n//     .catch((error) => {\n//       console.error(\"Error:\", error.message);\n//       hideLoader();\n//       iziToast.error({\n//         title: \"Error\",\n//         message: \"An error occurred while fetching images. Please try again later.\",\n//       });\n//     });\n// }\n\n// function showLoader() {\n//   loader.style.display = \"block\";\n// }\n\n// function hideLoader() {\n//   loader.style.display = \"none\";\n// }\n// //=====VAR 1==========\n\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImages } from \"./js/pixabay-api.js\";\nimport { displayImg } from \"./js/render-functions\";\n\nconst searchForm = document.querySelector(\".form-search\");\nconst inputForm = document.querySelector(\".form-input\");\nconst loader = document.querySelector(\".loader\");\n\nsearchForm.addEventListener(\"submit\", handleFormSubmit);\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n\n  const QUERY = inputForm.value.trim();\n\n  if (QUERY === \"\") {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Please enter a search term.\",\n    });\n    return;\n  }\n\n  // loader.style.display = \"block\";\n\n  getImages(QUERY)\n    .then(data => {\n      // loader.style.display = \"none\";\n\n      if (data.hits.length === 0) {\n        iziToast.warning({\n          title: \"No Results\",\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n      } else {\n        displayImg(data.hits);\n      }\n    })\n    .catch(error => {\n      // loader.style.display = \"none\";\n    });\n}"],"names":["KEY","BASE_URL","getImages","QUERY","URL","response","error","displayImg","images","galleryContainer","image","imageCard","imageUrl","imageAlt","SimpleLightbox","searchForm","inputForm","handleFormSubmit","event","iziToast","data"],"mappings":"6vBAuBA,MAAMA,EAAM,qCACNC,EAAW,2BAEjB,SAASC,EAAUC,EAAO,CACxB,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAG,MAAMG,CAAK,2DAE7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,cAAc,EAGhC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CCmCA,SAASC,EAAYC,EAAQ,CAC3B,MAAMC,EAAmB,SAAS,cAAc,kBAAkB,EAClEA,EAAiB,UAAY,GAE7BD,EAAO,QAASE,GAAU,CACxB,MAAMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAU,IAAI,YAAY,EAEpC,MAAMC,EAAWF,EAAM,aACjBG,EAAWH,EAAM,KAEvBC,EAAU,UAAY;AAAA,iBACTD,EAAM,aAAa,yCAAyCG,CAAQ;AAAA,oBACjED,CAAQ,UAAUC,CAAQ;AAAA;AAAA,MAI1CJ,EAAiB,YAAYE,CAAS,CAC1C,CAAG,EAGgB,IAAIG,EAAe,eAAe,EAC1C,QAAO,CAClB,CCzCA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAY,SAAS,cAAc,aAAa,EACvC,SAAS,cAAc,SAAS,EAE/CD,EAAW,iBAAiB,SAAUE,CAAgB,EAEtD,SAASA,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMf,EAAQa,EAAU,MAAM,KAAI,EAElC,GAAIb,IAAU,GAAI,CAChBgB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAIDjB,EAAUC,CAAK,EACZ,KAAKiB,GAAQ,CAGRA,EAAK,KAAK,SAAW,EACvBD,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,0EACnB,CAAS,EAEDZ,EAAWa,EAAK,IAAI,CAE5B,CAAK,EACA,MAAMd,GAAS,CAEpB,CAAK,CACL"}